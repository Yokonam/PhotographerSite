@use "sass:math";
@use 'variables' as *;
@use 'mixins' as *;
@use 'functions' as *;

:root {
  --font-family-sans: #{$font-family-sans};

  --primary-1: #{$primary-1};
  --primary-2: #{$primary-2};
  --secondary: #{$secondary};
  --color-1: #{$color-1};
  --link-color: #{$primary-1};
  --focus: 0 0 0 4px var(--primary-1);

  --root-font-size: #{$root-font-size};
  --font-size-pc: #{$font-size-pc};
  --font-size-sp: #{$font-size-sp};
  --line-height: #{$line-height-base};
  --gradation-1: linear-gradient(180deg, #{$primary-1} 0%, #{$primary-2} 100%);
  --gradation-2: linear-gradient(180deg, #{$primary-2} 0%, #{$primary-1} 100%);
}

html {
  --font-ratio: 1.1428571429;
  font-kerning: normal;
  text-size-adjust: none;
  word-wrap : break-word;
  overflow-wrap : break-word;
  -webkit-print-color-adjust: exact;
  -webkit-tap-highlight-color:rgba(0,0,0,0);
  font-size: 100%;

  @for $i from 0 through 16 {
    $max: map-get($grid-breakpoints, xxl) - 25 * $i;
    @include media-breakpoint-range($max + 0.2) {
      --font-ratio: #{math.div(strip-unit($max), 1400)};
    }
  }

  $breakpoint: map-get($grid-breakpoints, md);
  @include media-breakpoint-range($breakpoint) {
    --font-ratio: #{math.div(strip-unit($breakpoint), 375)};
  }
  $divisors: math.floor(math.div($breakpoint, 25)) * 25;
  @for $i from 0 through 23 {
    $max: $divisors - 25 * $i;
    @media screen and (max-width: $max) {
      --font-ratio: #{math.div(strip-unit($max), 375)};
    }
  }

  @media print {
    --font-ratio: 1;
  }
}

body {
  --body-font-size: calc(var(--font-size-pc) * var(--font-ratio) * 1px);
  position: relative;
  font-size: var(--body-font-size);
  font-family: var( --font-family-sans);
  font-weight: 400;
  line-height: var(--line-height);
  background: #fff;
  color: #202124;
  letter-spacing: 0.04em;
  @include media-breakpoint-down(sm) {
    --body-font-size: calc(var(--font-size-sp) * var(--font-ratio) * 1px);
  }
  > img {
    position: absolute;
    height: 0;
  }
}

[data-menu]{
  overflow: hidden;
}

::selection {
  // color: #FFF;
  background-color: rgba($primary-1, 50%);
}

::placeholder {
  color: #999;
}

*:focus {
  box-shadow: var(--focus) !important;
  outline: none;
}

[data-whatintent='mouse'] *:focus,
[data-whatintent='touch'] *:focus {
  box-shadow: none !important;
  outline: none;
}

sup {
  vertical-align: top;
  font-size: .8em;
}

img {
  max-width: 100%;
  width: auto;
  height: auto;
  aspect-ratio: attr(width) / attr(height);
}

button {
  background-color: transparent;
  border: none;
  cursor: pointer;
  outline: none;
  padding: 0;
  appearance: none;
  line-height: inherit;
  color: currentColor;
}

select{
  color: currentColor;
}

a {
  color: var(--link-color);
  @include hover{
    text-decoration: none;
  }
}
